<div class="course-details-container">
  <div *ngIf="userRole === 'teacher'" class="action-buttons-bar">
    <button class="add-lesson-btn" (click)="addLesson()">
      <span class="icon">➕</span>
      הוספת שיעור
    </button>
    <button class="lesson-btn delete" (click)="deleteCourse()">
      <span class="icon">🗑️</span>
      מחיקת קורס
    </button>
  </div>

  <div class="course-lessons-header">
    <span class="lessons-icon">📚</span>
    <h2 class="lessons-title">שיעורים בקורס</h2>
    <div class="lessons-inspiration">כל שיעור הוא עוד צעד במסע שלך!</div>
  </div>



  <ng-container *ngIf="lessons.length > 0; else noLessons">
    <div class="lessons-grid">
      <div class="lesson-card" *ngFor="let lesson of lessons; let i = index">
        <span class="lesson-number">{{i + 1}}</span>
        <div class="lesson-watermark">
          <img src="src/assets/iconLogo.png" alt="לוגו" style="width: 2.7em; opacity: 0.12;" />
        </div>
        <div class="lesson-title">{{ lesson.title }}</div>
        <div class="lesson-content">{{ lesson.content }}</div>
        <div class="lesson-actions">
          <button *ngIf="userRole === 'teacher'" class="lesson-btn edit" (click)="editLesson(lesson)">
            ✏️ ערוך שיעור
          </button>
          <button *ngIf="userRole === 'teacher'" class="lesson-btn delete" (click)="deleteLesson(lesson.id)">
            🗑️ מחיקת שיעור
          </button>
        </div>
      </div>
    </div>
  </ng-container>

  <ng-template #noLessons>
    <div class="no-lessons">
      <p>🎓 הקורס עדיין בהתהוות! השיעורים יתווספו בקרוב.</p>
    </div>
  </ng-template>
</div>